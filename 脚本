-- æ‰‹æœºæ¨ªå±ç«¯ç½—å¸ƒä¹æ€å¤šåŠŸèƒ½è„šæœ¬
-- ä¸“ä¸ºç§»åŠ¨è®¾å¤‡æ¨ªå±æ¨¡å¼ä¼˜åŒ–
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local GuiService = game:GetService("GuiService")
local TweenService = game:GetService("TweenService")
local Lighting = game:GetService("Lighting")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- æ£€æµ‹è®¾å¤‡ç±»åž‹
local isMobile = UserInputService.TouchEnabled
local isGamepad = UserInputService.GamepadEnabled

print("è®¾å¤‡æ£€æµ‹: ç§»åŠ¨è®¾å¤‡=" .. tostring(isMobile) .. ", æ‰‹æŸ„=" .. tostring(isGamepad))

-- æ¨ªå±æ¨¡å¼æ£€æµ‹
local function isLandscape()
    local viewportSize = workspace.CurrentCamera.ViewportSize
    return viewportSize.X > viewportSize.Y
end

-- ç­‰å¾…è§’è‰²åŠ è½½
local character = player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")

-- çŠ¶æ€å˜é‡
local flyEnabled = false
local noclipEnabled = false
local speedEnabled = false
local backgroundEnabled = false
local guiVisible = true
local flySpeed = 30
local walkSpeed = 16
local originalWalkSpeed = humanoid.WalkSpeed
local bodyVelocity, bodyGyro

-- åˆ›å»ºæ‰‹æœºä¼˜åŒ–æŽ§åˆ¶GUI
local function createMobileGUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "MobileControlGUI"
    screenGui.ResetOnSpawn = false
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    screenGui.Parent = playerGui

    -- ä¸»æŽ§åˆ¶é¢æ¿ï¼ˆåº•éƒ¨å·¥å…·æ ï¼‰
    local mainPanel = Instance.new("Frame")
    mainPanel.Name = "MainPanel"
    mainPanel.Size = UDim2.new(1, 0, 0, 80)
    mainPanel.Position = UDim2.new(0, 0, 1, -80)
    mainPanel.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    mainPanel.BackgroundTransparency = 0.2
    mainPanel.BorderSizePixel = 0
    mainPanel.Parent = screenGui

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 12)
    corner.Parent = mainPanel

    -- åŠŸèƒ½æŒ‰é’®å®¹å™¨
    local buttonContainer = Instance.new("Frame")
    buttonContainer.Name = "ButtonContainer"
    buttonContainer.Size = UDim2.new(1, -40, 1, -20)
    buttonContainer.Position = UDim2.new(0, 20, 0, 10)
    buttonContainer.BackgroundTransparency = 1
    buttonContainer.Parent = mainPanel

    local uiListLayout = Instance.new("UIListLayout")
    uiListLayout.FillDirection = Enum.FillDirection.Horizontal
    uiListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    uiListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
    uiListLayout.Padding = UDim.new(0, 10)
    uiListLayout.Parent = buttonContainer

    -- åˆ›å»ºåŠŸèƒ½æŒ‰é’®å‡½æ•°
    local function createMobileButton(name, icon, color)
        local button = Instance.new("TextButton")
        button.Name = name
        button.Size = UDim2.new(0, 60, 0, 60)
        button.BackgroundColor3 = color or Color3.fromRGB(60, 60, 80)
        button.TextColor3 = Color3.fromRGB(255, 255, 255)
        button.Text = icon .. "\n" .. name
        button.TextSize = 12
        button.Font = Enum.Font.GothamBold
        button.TextWrapped = true
        button.Parent = buttonContainer

        local corner = Instance.new("UICorner")
        corner.CornerRadius = UDim.new(0, 8)
        corner.Parent = button
        
        return button
    end

    -- åˆ›å»ºç§»åŠ¨ç«¯åŠŸèƒ½æŒ‰é’®
    local buttons = {
        flyButton = createMobileButton("é£žè¡Œ", "ðŸš€", Color3.fromRGB(255, 87, 51)),
        noclipButton = createMobileButton("ç©¿å¢™", "ðŸ‘»", Color3.fromRGB(156, 39, 176)),
        speedButton = createMobileButton("åŠ é€Ÿ", "âš¡", Color3.fromRGB(255, 193, 7)),
        backgroundButton = createMobileButton("èƒŒæ™¯", "ðŸŽ¨", Color3.fromRGB(76, 175, 80)),
        hideButton = createMobileButton("éšè—", "ðŸ‘", Color3.fromRGB(33, 150, 243))
    }

    -- ç‹¬ç«‹éšè—æ˜¾ç¤ºæŒ‰é’®ï¼ˆå³ä¸Šè§’ï¼‰
    local toggleButton = Instance.new("TextButton")
    toggleButton.Name = "ToggleUI"
    toggleButton.Size = UDim2.new(0, 50, 0, 50)
    toggleButton.Position = UDim2.new(1, -60, 0, 10)
    toggleButton.BackgroundColor3 = Color3.fromRGB(41, 128, 185)
    toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    toggleButton.Text = "ðŸ‘"
    toggleButton.TextSize = 20
    toggleButton.Font = Enum.Font.GothamBold
    toggleButton.ZIndex = 10
    toggleButton.Parent = screenGui

    local toggleCorner = Instance.new("UICorner")
    toggleCorner.CornerRadius = UDim.new(0, 8)
    toggleCorner.Parent = toggleButton

    -- åŠŸèƒ½è®¾ç½®é¢æ¿
    local settingsPanel = Instance.new("Frame")
    settingsPanel.Name = "SettingsPanel"
    settingsPanel.Size = UDim2.new(0, 280, 0, 200)
    settingsPanel.Position = UDim2.new(0.5, -140, 0.5, -100)
    settingsPanel.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    settingsPanel.BackgroundTransparency = 0.1
    settingsPanel.BorderSizePixel = 0
    settingsPanel.Visible = false
    settingsPanel.ZIndex = 5
    settingsPanel.Parent = screenGui

    local settingsCorner = Instance.new("UICorner")
    settingsCorner.CornerRadius = UDim.new(0, 12)
    settingsCorner.Parent = settingsPanel

    local settingsHeader = Instance.new("TextLabel")
    settingsHeader.Name = "Header"
    settingsHeader.Size = UDim2.new(1, 0, 0, 40)
    settingsHeader.Position = UDim2.new(0, 0, 0, 0)
    settingsHeader.BackgroundColor3 = Color3.fromRGB(41, 128, 185)
    settingsHeader.TextColor3 = Color3.fromRGB(255, 255, 255)
    settingsHeader.Text = "åŠŸèƒ½è®¾ç½®"
    settingsHeader.TextSize = 18
    settingsHeader.Font = Enum.Font.GothamBold
    settingsHeader.Parent = settingsPanel

    local headerCorner = Instance.new("UICorner")
    headerCorner.CornerRadius = UDim.new(0, 12)
    headerCorner.Parent = settingsHeader

    -- é£žè¡Œé€Ÿåº¦è°ƒèŠ‚
    local flySpeedFrame = Instance.new("Frame")
    flySpeedFrame.Size = UDim2.new(1, -20, 0, 40)
    flySpeedFrame.Position = UDim2.new(0, 10, 0, 50)
    flySpeedFrame.BackgroundTransparency = 1
    flySpeedFrame.Parent = settingsPanel

    local flySpeedLabel = Instance.new("TextLabel")
    flySpeedLabel.Size = UDim2.new(0.5, 0, 1, 0)
    flySpeedLabel.Position = UDim2.new(0, 0, 0, 0)
    flySpeedLabel.BackgroundTransparency = 1
    flySpeedLabel.Text = "é£žè¡Œé€Ÿåº¦: " .. flySpeed
    flySpeedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    flySpeedLabel.TextSize = 14
    flySpeedLabel.Font = Enum.Font.Gotham
    flySpeedLabel.TextXAlignment = Enum.TextXAlignment.Left
    flySpeedLabel.Parent = flySpeedFrame

    local flySpeedSlider = Instance.new("TextBox")
    flySpeedSlider.Size = UDim2.new(0.4, 0, 0.6, 0)
    flySpeedSlider.Position = UDim2.new(0.6, 0, 0.2, 0)
    flySpeedSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
    flySpeedSlider.TextColor3 = Color3.fromRGB(255, 255, 255)
    flySpeedSlider.Text = tostring(flySpeed)
    flySpeedSlider.TextSize = 14
    flySpeedSlider.PlaceholderText = "é€Ÿåº¦å€¼"
    flySpeedSlider.Parent = flySpeedFrame

    local sliderCorner = Instance.new("UICorner")
    sliderCorner.CornerRadius = UDim.new(0, 4)
    sliderCorner.Parent = flySpeedSlider

    -- è™šæ‹Ÿæ‘‡æ†ï¼ˆç§»åŠ¨æŽ§åˆ¶ï¼‰
    local virtualJoystick = Instance.new("Frame")
    virtualJoystick.Name = "VirtualJoystick"
    virtualJoystick.Size = UDim2.new(0, 120, 0, 120)
    virtualJoystick.Position = UDim2.new(0, 30, 1, -150)
    virtualJoystick.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    virtualJoystick.BackgroundTransparency = 0.3
    virtualJoystick.BorderSizePixel = 0
    virtualJoystick.Visible = isMobile
    virtualJoystick.Parent = screenGui

    local joystickCorner = Instance.new("UICorner")
    joystickCorner.CornerRadius = UDim.new(1, 0)
    joystickCorner.Parent = virtualJoystick

    local joystickThumb = Instance.new("Frame")
    joystickThumb.Name = "Thumb"
    joystickThumb.Size = UDim2.new(0, 40, 0, 40)
    joystickThumb.Position = UDim2.new(0.5, -20, 0.5, -20)
    joystickThumb.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    joystickThumb.BackgroundTransparency = 0.2
    joystickThumb.BorderSizePixel = 0
    joystickThumb.Parent = virtualJoystick

    local thumbCorner = Instance.new("UICorner")
    thumbCorner.CornerRadius = UDim.new(1, 0)
    thumbCorner.Parent = joystickThumb

    -- çŠ¶æ€æŒ‡ç¤ºå™¨
    local statusPanel = Instance.new("Frame")
    statusPanel.Name = "StatusPanel"
    statusPanel.Size = UDim2.new(0, 200, 0, 100)
    statusPanel.Position = UDim2.new(1, -210, 0, 10)
    statusPanel.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    statusPanel.BackgroundTransparency = 0.2
    statusPanel.BorderSizePixel = 0
    statusPanel.Parent = screenGui

    local statusCorner = Instance.new("UICorner")
    statusCorner.CornerRadius = UDim.new(0, 8)
    statusCorner.Parent = statusPanel

    local statusLabel = Instance.new("TextLabel")
    statusLabel.Name = "StatusText"
    statusLabel.Size = UDim2.new(1, -10, 1, -10)
    statusLabel.Position = UDim2.new(0, 5, 0, 5)
    statusLabel.BackgroundTransparency = 1
    statusLabel.Text = "å°±ç»ª"
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    statusLabel.TextSize = 14
    statusLabel.TextWrapped = true
    statusLabel.Font = Enum.Font.Gotham
    statusLabel.Parent = statusPanel

    return screenGui, buttons, toggleButton, settingsPanel, flySpeedSlider, statusLabel, virtualJoystick
end

-- ä¼˜åŒ–çš„é£žè¡ŒåŠŸèƒ½
local function enableMobileFlight()
    if not flyEnabled then
        if bodyVelocity then bodyVelocity:Destroy() end
        if bodyGyro then bodyGyro:Destroy() end

        bodyVelocity = Instance.new("BodyVelocity")
        bodyGyro = Instance.new("BodyGyro")

        bodyVelocity.Velocity = Vector3.new(0, 0, 0)
        bodyVelocity.MaxForce = Vector3.new(3000, 3000, 3000)
        bodyGyro.MaxTorque = Vector3.new(3000, 3000, 3000)
        bodyGyro.P = 800
        bodyGyro.D = 50  -- å¢žåŠ é˜»å°¼ç³»æ•°ï¼Œä½¿é£žè¡Œæ›´ç¨³å®š

        pcall(function()
            bodyVelocity.Parent = rootPart
            bodyGyro.Parent = rootPart
        end)

        flyEnabled = true
        humanoid.PlatformStand = true  -- ç¦ç”¨è§’è‰²ç‰©ç†
    end
end

local function disableMobileFlight()
    flyEnabled = false
    humanoid.PlatformStand = false  -- æ¢å¤è§’è‰²ç‰©ç†
    
    if bodyVelocity then 
        bodyVelocity:Destroy()
        bodyVelocity = nil
    end
    if bodyGyro then 
        bodyGyro:Destroy()
        bodyGyro = nil
    end
end

-- ç§»åŠ¨ç«¯ç©¿å¢™åŠŸèƒ½
local function enableMobileNoclip()
    noclipEnabled = true
end

local function disableMobileNoclip()
    noclipEnabled = false
    if character then
        for _, child in ipairs(character:GetDescendants()) do
            if child:IsA("BasePart") then
                child.CanCollide = true
            end
        end
    end
end

-- ç§»åŠ¨é€Ÿåº¦åŠŸèƒ½
local function enableSpeed()
    speedEnabled = true
    humanoid.WalkSpeed = walkSpeed
end

local function disableSpeed()
    speedEnabled = false
    humanoid.WalkSpeed = originalWalkSpeed
end

-- èƒŒæ™¯ç‰¹æ•ˆåŠŸèƒ½
local function enableMobileBackground()
    backgroundEnabled = true
    -- æ·»åŠ ç®€å•çš„èƒŒæ™¯ç‰¹æ•ˆ
    local colorCorrection = Instance.new("ColorCorrectionEffect")
    colorCorrection.Name = "MobileBackgroundEffect"
    colorCorrection.Parent = Lighting
    
    local bloom = Instance.new("BloomEffect")
    bloom.Name = "MobileBloomEffect"
    bloom.Intensity = 0.3
    bloom.Parent = Lighting
end

local function disableMobileBackground()
    backgroundEnabled = false
    if Lighting:FindFirstChild("MobileBackgroundEffect") then
        Lighting.MobileBackgroundEffect:Destroy()
    end
    if Lighting:FindFirstChild("MobileBloomEffect") then
        Lighting.MobileBloomEffect:Destroy()
    end
end

-- åˆå§‹åŒ–ç§»åŠ¨ç«¯è„šæœ¬
local function initializeMobileScript()
    local mobileGUI, buttons, toggleButton, settingsPanel, flySpeedSlider, statusLabel, virtualJoystick = createMobileGUI()

    -- é£žè¡Œé€Ÿåº¦è¾“å…¥æ¡†äº‹ä»¶
    flySpeedSlider.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            local newSpeed = tonumber(flySpeedSlider.Text)
            if newSpeed and newSpeed > 0 and newSpeed <= 100 then
                flySpeed = newSpeed
                statusLabel.Text = "é£žè¡Œé€Ÿåº¦å·²è®¾ç½®ä¸º: " .. flySpeed
            else
                flySpeedSlider.Text = tostring(flySpeed)
                statusLabel.Text = "è¯·è¾“å…¥æœ‰æ•ˆçš„é€Ÿåº¦å€¼ (1-100)"
            end
        end
    end)

    -- åŠŸèƒ½æŒ‰é’®äº‹ä»¶
    buttons.flyButton.MouseButton1Click:Connect(function()
        flyEnabled = not flyEnabled
        if flyEnabled then
            enableMobileFlight()
            buttons.flyButton.BackgroundColor3 = Color3.fromRGB(255, 87, 51)
            statusLabel.Text = "é£žè¡Œæ¨¡å¼å·²æ¿€æ´»\nä½¿ç”¨ç›¸æœºæ–¹å‘æŽ§åˆ¶ç§»åŠ¨"
        else
            disableMobileFlight()
            buttons.flyButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
            statusLabel.Text = "é£žè¡Œæ¨¡å¼å·²å…³é—­"
        end
    end)

    buttons.noclipButton.MouseButton1Click:Connect(function()
        noclipEnabled = not noclipEnabled
        if noclipEnabled then
            enableMobileNoclip()
            buttons.noclipButton.BackgroundColor3 = Color3.fromRGB(156, 39, 176)
            statusLabel.Text = "ç©¿å¢™æ¨¡å¼å·²æ¿€æ´»"
        else
            disableMobileNoclip()
            buttons.noclipButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
            statusLabel.Text = "ç©¿å¢™æ¨¡å¼å·²å…³é—­"
        end
    end)

    buttons.speedButton.MouseButton1Click:Connect(function()
        speedEnabled = not speedEnabled
        if speedEnabled then
            enableSpeed()
            buttons.speedButton.BackgroundColor3 = Color3.fromRGB(255, 193, 7)
            statusLabel.Text = "åŠ é€Ÿæ¨¡å¼å·²æ¿€æ´»"
        else
            disableSpeed()
            buttons.speedButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
            statusLabel.Text = "åŠ é€Ÿæ¨¡å¼å·²å…³é—­"
        end
    end)

    buttons.backgroundButton.MouseButton1Click:Connect(function()
        backgroundEnabled = not backgroundEnabled
        if backgroundEnabled then
            enableMobileBackground()
            buttons.backgroundButton.BackgroundColor3 = Color3.fromRGB(76, 175, 80)
            statusLabel.Text = "èƒŒæ™¯ç‰¹æ•ˆå·²æ¿€æ´»"
        else
            disableMobileBackground()
            buttons.backgroundButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
            statusLabel.Text = "èƒŒæ™¯ç‰¹æ•ˆå·²å…³é—­"
        end
    end)

    buttons.hideButton.MouseButton1Click:Connect(function()
        settingsPanel.Visible = not settingsPanel.Visible
        statusLabel.Text = settingsPanel.Visible and "è®¾ç½®é¢æ¿å·²æ‰“å¼€" or "è®¾ç½®é¢æ¿å·²å…³é—­"
    end)

    -- ç‹¬ç«‹éšè—æ˜¾ç¤ºæŒ‰é’®äº‹ä»¶
    toggleButton.MouseButton1Click:Connect(function()
        guiVisible = not guiVisible
        mobileGUI.Enabled = guiVisible
        toggleButton.Text = guiVisible and "ðŸ‘" or "ðŸ”²"
        statusLabel.Text = guiVisible and "ç•Œé¢å·²æ˜¾ç¤º" or "ç•Œé¢å·²éšè—"
    end)

    -- è§¦æ‘¸æŽ§åˆ¶å˜é‡
    local touchStartPos, touchCurrentPos, isTouching = nil, nil, false

    -- è§¦æ‘¸äº‹ä»¶å¤„ç†
    if isMobile then
        UserInputService.TouchStarted:Connect(function(touch, gameProcessed)
            if gameProcessed then return end
            
            local touchPos = touch.Position
            local joystickPos = virtualJoystick.AbsolutePosition
            local joystickSize = virtualJoystick.AbsoluteSize
            
            -- æ£€æŸ¥æ˜¯å¦ç‚¹å‡»åœ¨æ‘‡æ†åŒºåŸŸ
            if touchPos.X >= joystickPos.X and touchPos.X <= joystickPos.X + joystickSize.X and
               touchPos.Y >= joystickPos.Y and touchPos.Y <= joystickPos.Y + joystickSize.Y then
                isTouching = true
                touchStartPos = touchPos
            end
        end)

        UserInputService.TouchEnded:Connect(function(touch, gameProcessed)
            isTouching = false
            touchStartPos = nil
            touchCurrentPos = nil
            
            -- é‡ç½®æ‘‡æ†ä½ç½®
            local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local tween = TweenService:Create(virtualJoystick.Thumb, tweenInfo, {Position = UDim2.new(0.5, -20, 0.5, -20)})
            tween:Play()
        end)

        UserInputService.TouchMoved:Connect(function(touch, gameProcessed)
            if not isTouching or gameProcessed then return end
            
            touchCurrentPos = touch.Position
            if touchStartPos then
                local delta = touchCurrentPos - touchStartPos
                local maxDelta = virtualJoystick.AbsoluteSize.X / 3
                
                -- é™åˆ¶æ‘‡æ†ç§»åŠ¨èŒƒå›´
                local magnitude = math.min(delta.Magnitude, maxDelta)
                local direction = delta.Unit
                
                local newPos = direction * magnitude
                local thumbPos = UDim2.new(0.5, newPos.X, 0.5, newPos.Y)
                
                virtualJoystick.Thumb.Position = thumbPos
                
                -- é£žè¡ŒæŽ§åˆ¶ï¼ˆå¦‚æžœé£žè¡Œæ¨¡å¼å¼€å¯ï¼‰
                if flyEnabled and bodyVelocity then
                    local moveDirection = Vector3.new(direction.X, 0, direction.Y) * flySpeed
                    bodyVelocity.Velocity = workspace.CurrentCamera.CFrame:VectorToWorldSpace(moveDirection)
                end
            end
        end)
    end

    -- ä¸»å¾ªçŽ¯
    local connection
    connection = RunService.Stepped:Connect(function()
        -- é£žè¡ŒæŽ§åˆ¶ä¼˜åŒ–
        if flyEnabled and bodyGyro then
            -- æ›´å¹³æ»‘çš„ç›¸æœºè·Ÿéš
            bodyGyro.CFrame = workspace.CurrentCamera.CFrame
            
            -- è‡ªåŠ¨é«˜åº¦ç»´æŒï¼ˆé˜²æ­¢æŽ‰è½ï¼‰
            if rootPart.Position.Y < workspace.FallenPartsDestroyHeight + 10 then
                bodyVelocity.Velocity = Vector3.new(bodyVelocity.Velocity.X, 5, bodyVelocity.Velocity.Z)
            end
        end

        -- ç©¿å¢™çŠ¶æ€ç»´æŒ
        if noclipEnabled and character then
            for _, child in ipairs(character:GetDescendants()) do
                if child:IsA("BasePart") then
                    child.CanCollide = false
                end
            end
        end

        -- å±å¹•æ–¹å‘æ£€æµ‹
        if not isLandscape() then
            statusLabel.Text = "è¯·åˆ‡æ¢åˆ°æ¨ªå±æ¨¡å¼\nä»¥èŽ·å¾—æœ€ä½³ä½“éªŒ"
        else
            if statusLabel.Text == "è¯·åˆ‡æ¢åˆ°æ¨ªå±æ¨¡å¼\nä»¥èŽ·å¾—æœ€ä½³ä½“éªŒ" then
                statusLabel.Text = "æ¨ªå±æ¨¡å¼å·²å°±ç»ª"
            end
        end
    end)

    statusLabel.Text = "ç§»åŠ¨ç«¯è„šæœ¬å·²åŠ è½½\nä¸“ä¸ºæ¨ªå±ä¼˜åŒ–"

    -- è§’è‰²é‡ç½®å¤„ç†
    player.CharacterAdded:Connect(function(newCharacter)
        character = newCharacter
        humanoid = newCharacter:WaitForChild("Humanoid")
        rootPart = newCharacter:WaitForChild("HumanoidRootPart")
        originalWalkSpeed = humanoid.WalkSpeed
        
        -- é‡ç½®çŠ¶æ€
        disableMobileFlight()
        disableMobileNoclip()
        disableSpeed()
        disableMobileBackground()
        
        -- é‡ç½®æŒ‰é’®é¢œè‰²
        for _, button in pairs(buttons) do
            button.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
        end
        
        statusLabel.Text = "è§’è‰²å·²é‡ç½®\nåŠŸèƒ½å·²æ¢å¤é»˜è®¤"
    end)
end

-- å¯åŠ¨ç§»åŠ¨ç«¯è„šæœ¬
if isMobile then
    initializeMobileScript()
else
    print("æ£€æµ‹åˆ°éžç§»åŠ¨è®¾å¤‡ï¼Œå»ºè®®ä½¿ç”¨PCç‰ˆè„šæœ¬")
end
